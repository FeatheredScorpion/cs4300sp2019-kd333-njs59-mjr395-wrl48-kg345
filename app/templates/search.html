<html>
<head>
    <link rel="stylesheet" href="../static/styles/bootstrap.min.css">
    <link rel="stylesheet" href="../static/styles/main.css">
</head>
<body>
<div class="topcorner">
    <p>Project Name: ROCKTAILS</p>
    <p>Student Names: Kerri Diamond (kd333), Kaitlin Green (kg345), William Lin (wrl48), Megan Rochlin (mjr395), Nathaniel Schickler (njs59)</p>
</div>
<div class="user topcorner">
    <a>USER</a>
</div>
<form class="form-inline global-search">
    <h1 style="font-size: 64px;font-weight:500; font-family:Quicksand, sans-serif; text-shadow: 2px 2px 2px #000000; color: #ffffff">
        ROCKTAILS
    </h1>

    <br><br>

    <div class="form-group">
        <input id="input" type="text" name="search" class="form-control" placeholder="Your Input">
    </div>
    <button type="submit" class="btn btn-info">
        Go
    </button>
</form>
<form class="form-inline global-search">
    {% if data %}
        <script style="display: none">
            var b;
            var a = fetch("../static/drinks.json")
                .then(function (myJson) {
                    return myJson.json();
                })
                .then(function (myJson) {
                    const url = new URL(window.location);
                    let searchStr = url.search;
                    searchStr = searchStr.substr(searchStr.indexOf('=') + 1, searchStr.length).toLowerCase();
                    JSON.parse(JSON.stringify(myJson))["drinks"].forEach(function (d) {
                        if ( d.name.toLowerCase().indexOf(searchStr) > -1
                            || ( d.ingredients && (d.ingredients.toString().toLowerCase().indexOf(searchStr) > -1))
                        ) {
                            var element = document.querySelector("div[data-type='template']").cloneNode(true);
                            element.querySelector("div.title").textContent = d.name;
                            element.querySelector("div#desc").textContent = d.description;
                            element.querySelector("p#ingredients").textContent = d.ingredients.toString();
                            element.querySelector("img.src").src = d.src;
                            element.style.display = "inline";
                            document.getElementById("drink-output").appendChild(element);
                        }
                    })
                })
            ;
        </script>
    {% endif %}
</form>
<div id="drink-output" style="width:60%; margin: auto; padding-bottom: 10px;">
</div>
<div class="row">
    <!-- template -->
    <div style="display: none;" data-type="template" id="drink-id" class="cocktail">
        <div class="col-sm-6 col-md-4" style="width: 500px; height: 500px; padding: 10px;">
            <div class="thumbnail" style="width: 100%; height:100%">
                <div style="height: 250px; overflow: hidden; border-width: 2px; border-style: solid">
                    <img alt="http://worldartsme.com/images/cocktail-glass-clipart-1.jpg" style="width: 100%;  overflow: hidden" class="src">
                </div>
                <h3 class="">
                    <div class="title">Thumbnail label</div>
                </h3>
                <p>Description:</p>
                <div id="desc" class="desc" style="overflow: auto;">
                </div>
                <br>
                <p>Ingredients:</p>
                <p id="ingredients"></p>
            </div>
        </div>
    </div>
</div>
</body>
</html>